{% extends 'main/layout.html' %}
{% load static %}

{% block title %}Searching by tag{% endblock %}
{% block extrahead %}<link rel="stylesheet" href="{% static 'css/search_by_tag.css' %}">{%  endblock %}

{% block content %}
<main>
    <div class="container mt-4">
        <div class="row">
            <div class="col-10">
               <h3>Articles with tag "{{ tag.title }}"</h3>
                   {% if request.user.is_authenticated and request.user.is_staff %}
                       <a href="{% url 'blog:update_tag' tag.slug %}"><button type="submit" class="btn btn-primary">Edit tag</button></a>
                       <a href="{% url 'blog:delete_tag' tag.slug %}"><button type="submit" class="btn btn-primary">Delete tag</button></a>
                   {% endif%}
               {% if tag.articles.all %}
            <ul>
                {% for article in tag.articles.all %}
                    <li>
                        <div class="card" style="width: 900px;">
                          <div class="card-body">
                            <h5 class="card-title">{{ article.title }}</h5>
                            <h6 class="card-subtitle mb-2 text-muted">
                                {% for tag in article.tags.all %}
                                <a href="{% url 'blog:tags' tag.slug %}">{{tag.title}}</a>
                                {% endfor %}
                            </h6>
                            <p class="card-text">{{ article.text|slice:'200' }}...</p>
                              <a href="{% url 'blog:info' article.slug %}"><button class="btn btn-success">Read</button></a>

                          </div>
                        </div>
                    </li>
                {% endfor %}
            </ul>
                {% endif %}










            </div>
        </div>
    </div>
</main>
{% endblock %}
